<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Many Points</title>

	<script src="../js/d3/d3.min.js"></script>
	<script src="../js/util.js"></script>

	<style>
		.axis path {
			fill: transparent;
			stroke: #333;
			opacity: 0.3;
		}

		.axis line {
			fill: transparent;
			stroke: transparent;
		}

		.axis text {
			fill: #333;
			opacity: 0.3;
		}

	</style>
</head>
<body>
	<div id="container">
	</div>
	<script>
		width = 940;
		height = 570;
		margin = 10;
		var div = d3.select("#container");
		var svg = div.append("svg")
				.attr("width", width + 2 * margin)
				.attr("height", height + 2 * margin)
			.append("g")
				.attr("transform", "translate(" + margin + "," + margin + ")")
		
		// cartesian_g = svg.append("g")
		// 		.attr("tranform", "translate(20,20)");

		// parallel_g = svg.append("g")
		// 		.attr("tranform", "translate(500,20)");		

		cxmin = -10;
		pxmin = -10;

		cxmax = 10;
		pxmax = 10;

		cymin = -1;
		pymin = -1;

		cymax = 2;
		pymax = 2;


		var cartesian_x = d3.scaleLinear()
				.domain([cxmin, cxmax])
				.range([0, width*0.60]); 
		var cartesian_y = d3.scaleLinear()
				.domain([cymin, cymax])
				.range([height, 0]);

		var cxAxis = d3.axisBottom(cartesian_x).tickSizeOuter(0);
		var cxAxisG = svg.append("g").attr("class", "axis").call(cxAxis)
				.attr("transform", "translate(" + cartesian_x(cxmin) + "," + cartesian_y(0) + ")");

		var cyAxis = d3.axisRight(cartesian_y).tickSizeOuter(0);;
		var cyAxisG = svg.append("g").attr("class", "axis").call(cyAxis)
				.attr("transform", "translate(" + cartesian_x(0) + "," + cartesian_y(cymax) + ")");
		
		var p_x = d3.scaleLinear()
				.domain([pxmin, pxmax])
				.range([height, 0]);
		var p_y = d3.scaleLinear()
				.domain([pymin, pymax])
				.range([height, 0]);

		var all_p = d3.scaleBand()
				.domain([0,1])
				.rangeRound([width*0.75, width-50]);

		var pxAxis = d3.axisLeft(p_x).tickSizeOuter(0);;
		var pxAxisG = svg.append("g").attr("class", "axis").call(pxAxis)
				.attr("transform", "translate(" + all_p(0) + "," + p_y(pymax) + ")");

		var pyAxis = d3.axisRight(p_y).tickSizeOuter(0);;
		var pyAxisG = svg.append("g").attr("class", "axis").call(pyAxis)
				.attr("transform", "translate(" + all_p(1) + "," + p_y(pymax) + ")");

		var origin = [0,0];

		var points = [origin];
		
		function f(x){
			return Math.exp(x) / (Math.exp(x) + 1);
		}

		var x = seqLen(-10, 10, 151);
		// for (var i=-20; i<=20; i++){
		// 	x.push(i);
		// }

		var points = [];
		for (var i=0; i<x.length; i++){
			points.push([x[i], f(x[i])]);
		}

		// svg.append("line").attr("class", "cartesian-x-axis")
		// 		.attr("x1", cartesian_x(cxmin))
		// 		.attr("y1", cartesian_y(0))
		// 		.attr("x2", cartesian_x(cxmax))
		// 		.attr("y2", cartesian_y(0))
		// 		.attr("stroke", "#999");

		// svg.append("line").attr("class", "cartesian-y-axis")
		// 		.attr("x1", cartesian_x(0))
		// 		.attr("y1", cartesian_y(cymin))
		// 		.attr("x2", cartesian_x(0))
		// 		.attr("y2", cartesian_y(cymax))
		// 		.attr("stroke", "#999");

		// svg.append("line").attr("class", "parallel-x-axis")
		// 		.attr("x1", all_p(0))
		// 		.attr("y1", p_x(pxmin))
		// 		.attr("x2", all_p(0))
		// 		.attr("y2", p_x(pxmax))
		// 		.attr("stroke", "#999");

		// svg.append("line").attr("class", "parallel-y-axis")
		// 		.attr("x1", all_p(1))
		// 		.attr("y1", p_y(pymin))
		// 		.attr("x2", all_p(1))
		// 		.attr("y2", p_y(pymax))
		// 		.attr("stroke", "#999");


		svg.selectAll(".cartesian-points").data(points)
			.enter().append("circle")
				.attr("cx", (d,i) => {return cartesian_x(d[0]);})
				.attr("cy", (d,i) => {return cartesian_y(d[1]);})
				.attr("r", 2)
				.attr("fill", "#0099ff")

		pxp = points.map((m) => {return m[0];});
		svg.selectAll(".parallel-x-points").data(pxp)
			.enter().append("circle")
				.attr("cx", (d,i) => {return all_p(0);})
				.attr("cy", (d,i) => {return p_x(d);})
				.attr("r", 2)
				.attr("fill", "#ff0099")

		pyp = points.map((m) => {return m[1];});
		svg.selectAll(".parallel-x-points").data(pyp)
			.enter().append("circle")
				.attr("cx", (d,i) => {return all_p(1);})
				.attr("cy", (d,i) => {return p_y(d);})
				.attr("r", 2)
				.attr("fill", "#ff0099")

		svg.selectAll(".parallel-lines").data(points)
			.enter().append("line")
				.attr("x1", all_p(0))
				.attr("y1", (d,i) => {return p_x(d[0]);})
				.attr("x2", all_p(1))
				.attr("y2", (d,i) => {return p_y(d[1]);})
				.style("stroke-width", 0.5)
				.style("stroke", "#ff0099")

	</script>
</body>
</html>